<%- include('../partials/_header', { user: user }) %>

<div class="container w-full md:max-w-3xl mx-auto pt-20">
        
        <div class="w-full px-4 md:px-6 text-xl text-gray-800 leading-normal">
            <h1 class="font-bold break-normal text-gray-900 pt-6 pb-2 text-3xl md:text-4xl">
                üèÜ Author Leaderboard
            </h1>
            <p class="text-sm md:text-base text-gray-600 mb-6">
                Ranking our top contributors by total article views.
            </p>

            <div class="bg-gray-900 shadow-md rounded my-6 overflow-hidden">
                <table class="min-w-full w-full table-auto">
                    <thead>
                        <tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal">
                            <th class="py-3 px-6 text-left">Rank</th>
                            <th class="py-3 px-6 text-left">Author</th>
                            <th class="py-3 px-6 text-center">Articles</th>
                            <th class="py-3 px-6 text-center">Total Views</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-200 text-sm font-light">
                        <% authors.forEach((author, index) => { %>
                            <tr class="border-b border-gray-200 hover:bg-gray-100">
                                <!-- Rank Column -->
                                <td class="py-3 px-6 text-left whitespace-nowrap">
                                    <div class="flex items-center">
                                        <% if (index === 0) { %>
                                            <span class="text-2xl">ü•á</span>
                                        <% } else if (index === 1) { %>
                                            <span class="text-2xl">ü•à</span>
                                        <% } else if (index === 2) { %>
                                            <span class="text-2xl">ü•â</span>
                                        <% } else { %>
                                            <span class="font-bold ml-2"><%= index + 1 %></span>
                                        <% } %>
                                    </div>
                                </td>
                                
                                <!-- Author Name -->
                                <td class="py-3 px-6 text-left">
                                    <div class="flex items-center">
                                        <span class="font-medium text-base"><%= author.username %></span>
                                    </div>
                                </td>

                                <!-- Article Count -->
                                <td class="py-3 px-6 text-center">
                                    <span class="bg-blue-100 text-gray-900 py-1 px-3 rounded-full text-xs">
                                        <%= author.articleCount %>
                                    </span>
                                </td>

                                <!-- Total Views -->
                                <td class="py-3 px-6 text-center">
                                    <span class="font-bold text-gray-200">
                                        <%= author.totalViews.toLocaleString() %>
                                    </span>
                                </td>
                            </tr>
                        <% }) %>
                    </tbody>
                </table>
            </div>
        </div>
    </div>


    <%- include('../partials/_footer') %>
